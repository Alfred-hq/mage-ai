(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{59920:function(e,n,r){"use strict";var t;r.d(n,{M:function(){return t}}),function(e){e.BLOCK_RUNS="block_runs",e.PIPELINE_LOGS="pipeline_logs",e.PIPELINE_RUNS="pipeline_runs",e.RUNS="runs",e.TRIGGERS="triggers"}(t||(t={}))},88182:function(e,n,r){"use strict";r.d(n,{Z:function(){return Z}});var t=r(77555),i=r(82684),o=r(61519),c=r(48933),u=r(34744),s=r(67971),l=r(87372),a=r(31866),d=r(28598);var p=function(e){var n=e.size;return(0,d.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5 12C21.5 17.2467 17.2467 21.5 12 21.5C6.75329 21.5 2.5 17.2467 2.5 12C2.5 6.75329 6.75329 2.5 12 2.5C17.2467 2.5 21.5 6.75329 21.5 12ZM23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM12.75 7C12.75 6.58579 12.4142 6.25 12 6.25C11.5858 6.25 11.25 6.58579 11.25 7V13C11.25 13.4142 11.5858 13.75 12 13.75H16C16.4142 13.75 16.75 13.4142 16.75 13C16.75 12.5858 16.4142 12.25 16 12.25H12.75V7Z",fill:"url(#paint0_linear_2798_59379)"}),(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:"paint0_linear_2798_59379",x1:"1",y1:"12",x2:"23",y2:"12",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{offset:"0.28125",stopColor:"#7D55EC"}),(0,d.jsx)("stop",{offset:"1",stopColor:"#2AB2FE"})]})})]})},f=r(86673);var h=function(e){var n=e.size;return(0,d.jsxs)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 17c0 1.1046-.89543 2-2 2s-2-.8954-2-2 .89543-2 2-2 2 .8954 2 2zm1.5 0c0 1.933-1.567 3.5-3.5 3.5S1.5 18.933 1.5 17s1.567-3.5 3.5-3.5 3.5 1.567 3.5 3.5zm2.25-.5c0-.4142.3358-.75.75-.75H22c.4142 0 .75.3358.75.75s-.3358.75-.75.75H11.5c-.4142 0-.75-.3358-.75-.75zM8.68946 4.29563c.16317-.38072-.0132-.82163-.39392-.9848-.38072-.16316-.82163.0132-.9848.39392L5.06418 8.94674c-.07952.18554-.3348.2052-.44179.03402L3.1361 6.60269c-.21953-.35125-.68225-.45803-1.0335-.2385-.35125.21954-.45803.68225-.2385 1.0335l1.48629 2.37807c.74892 1.19824 2.53587 1.06064 3.0925-.23814l2.24657-5.24199zM11.5 6.75c-.4142 0-.75.33579-.75.75s.3358.75.75.75H22c.4142 0 .75-.33579.75-.75s-.3358-.75-.75-.75H11.5z",fill:"url(#paint0_linear_2919_69883)"}),(0,d.jsx)("defs",{children:(0,d.jsxs)("linearGradient",{id:"paint0_linear_2919_69883",x1:"1.5",y1:"11.875",x2:"22.75",y2:"11.875",gradientUnits:"userSpaceOnUse",children:[(0,d.jsx)("stop",{offset:".28125",stopColor:"#7D55EC"}),(0,d.jsx)("stop",{offset:"1",stopColor:"#2AB2FE"})]})})]})},g=r(41374),b=r(10503),m=r(46313),v=r(23831),j=r(73942),x=r(49125),y=m.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],j.n_,3*x.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||v.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),O=r(59920),P=r(99994),_=r(24141);var Z=function(e){var n=e.after,r=e.afterHidden,m=e.afterWidth,v=e.before,j=e.beforeWidth,Z=e.breadcrumbs,C=e.buildSidekick,w=e.children,k=e.headline,I=e.pageName,E=e.pipeline,S=e.subheader,D=e.subheaderBackground,N=e.subheaderBackgroundImage,T=e.subheaderButton,R=e.subheaderText,M=e.title,B=e.uuid,L=(0,_.i)().height,H=E.uuid,z=g.ZP.pipelines.detail(H).data,A=null===z||void 0===z?void 0:z.pipeline,G=(0,i.useMemo)((function(){return n||(C?C({height:L,pipeline:A}):null)}),[n,C,L,A]),U=m||(G?50*x.iI:null),q=(0,i.useMemo)((function(){var e=[];return A&&(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),Z?(e.push({label:function(){return A.name},linkProps:{as:"/pipelines/".concat(H,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,t.Z)(Z)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return A.name}})),e}),[Z,A]);return(0,d.jsxs)(c.Z,{after:G,afterHidden:r,afterWidth:U,before:v,beforeWidth:j,breadcrumbs:q,navigationItems:[{Icon:b.Pf,IconSelected:p,id:O.M.TRIGGERS,label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(H,"/triggers"),href:"/pipelines/[pipeline]/triggers"},isSelected:function(){return O.M.TRIGGERS===I}},{Icon:b.pd,IconSelected:o.Z,id:O.M.RUNS,label:function(){return"Runs"},linkProps:{as:"/pipelines/".concat(H,"/runs"),href:"/pipelines/[pipeline]/runs"},isSelected:function(){return O.M.RUNS===I}},{Icon:b.B4,IconSelected:h,id:O.M.PIPELINE_LOGS,label:function(){return"Logs"},linkProps:{as:"/pipelines/".concat(H,"/logs"),href:"/pipelines/[pipeline]/logs"},isSelected:function(){return O.M.PIPELINE_LOGS===I}}],subheaderChildren:"undefined"!==typeof S?S:(0,d.jsx)(s.Z,{alignItems:"center",children:(0,d.jsx)(a.ZP,{background:P.yr,bold:!0,beforeElement:(0,d.jsx)(b.I8,{size:2.5*x.iI}),inline:!0,linkProps:{as:"/pipelines/".concat(H,"/edit"),href:"/pipelines/[pipeline]/edit"},noHoverUnderline:!0,sameColorAsText:!0,uuid:"PipelineDetailPage/edit",children:"Edit Pipeline"})}),title:A?M?M(A):A.name:null,uuid:B,children:[(T||R)&&(0,d.jsx)(f.Z,{mb:x.Mq,mt:x.cd,mx:x.cd,children:(0,d.jsx)(y,{background:D,backgroundImage:N,children:(0,d.jsxs)(s.Z,{alignItems:"center",children:[T,R&&(0,d.jsx)(f.Z,{ml:3}),R]})})}),k&&(0,d.jsx)(f.Z,{p:x.cd,children:(0,d.jsxs)(f.Z,{mt:x.cd,px:x.cd,children:[(0,d.jsx)(l.Z,{level:5,children:k}),(0,d.jsx)(u.Z,{light:!0,mt:x.cd,short:!0})]})}),w]})}},58122:function(e,n,r){"use strict";r.d(n,{CL:function(){return p},FS:function(){return f},e7:function(){return g},v0:function(){return d},wx:function(){return h}});var t=r(12757),i=r(82394),o=r(43313),c=r(32151),u=r(5679),s=r(84779);function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function d(e){var n=e.statistics,r=Object.keys(n),t=Array(o.Dy.length).fill(0);return 0===r.length?null:(r.forEach((function(e){if(o.Dy.includes(e)){var r=o.CC[e],i=n[e],c=i,u=!1,l=[2,3],a=o.Ub[e],d=o.oH[e],p=o.OD[e];if(o.y_.includes(e))u=!0,l=[2,1,2];else if(e in o.Sq){i=(0,s.Jw)(i,0);var f=o.Sq[e];c=n[f]}var h={columnFlexNumbers:l,name:r,progress:u,rate:c,successDirection:d,warning:p};o.y_.includes(e)||(h.value=i),t[a]=h}})),t)}function p(e){var n=e.columnTypes,r=void 0===n?{}:n,t=e.statistics,i=Object.keys(t);if(0===i.length)return null;var s=Object.values(r),l=s.length,a=[];a.push({name:"Column count",successDirection:o.oH.column_count,value:(0,u.x6)(l)}),i.forEach((function(e){if(o.Zu.includes(e)){var n=o.CC[e],r=t[e],i=o.OD[e];a.push({name:n,successDirection:o.oH[e],value:(0,u.x6)(r),warning:i})}}));var d=(0,c.QO)(s),p=d.countCategory,f=d.countDatetime,h=d.countNumerical;return a.push({name:"Categorical Features",rate:p/l,value:(0,u.x6)(p)},{name:"Numerical Features",rate:h/l,value:(0,u.x6)(h)},{name:"Datetime Features",rate:f/l,value:(0,u.x6)(f)}),a}function f(e){return"string"===typeof e?e:JSON.stringify(e)}function h(e,n){var r,t;return null===e||void 0===e||null===(r=e.find((function(e){var r=e.block;return n(r)})))||void 0===r||null===(t=r.variables)||void 0===t?void 0:t.map((function(e){var n=e.value;return a(a({},e),{},{value:f(n)})}))}function g(e){return e?Object.entries(e).reduce((function(e,n){var r=(0,t.Z)(n,2),o=r[0],c=r[1],u=c;try{u=JSON.parse(c)}catch(s){}return a(a({},e),{},(0,i.Z)({},o,u))}),{}):e}},93348:function(e,n,r){"use strict";r.d(n,{U5:function(){return u},Xm:function(){return i},Z4:function(){return s},fq:function(){return c}});var t,i,o=r(82394);!function(e){e.EVENT="event",e.TIME="time"}(i||(i={}));var c,u,s=(t={},(0,o.Z)(t,i.EVENT,(function(){return"event"})),(0,o.Z)(t,i.TIME,(function(){return"schedule"})),t);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly"}(u||(u={}))},34744:function(e,n,r){"use strict";var t=r(82394),i=r(26304),o=(r(82684),r(46313)),c=r(86673),u=r(23831),s=r(49125),l=r(28598),a=["short"];function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var f=o.default.div.withConfig({displayName:"Divider__DividerContainerStyle",componentId:"sc-1m7lqco-0"})([""," ",""],(function(e){return e.short&&"\n    width: ".concat(21*s.iI,"px;\n  ")}),(function(e){return!e.short&&"\n    width: 100%;\n  "})),h=o.default.div.withConfig({displayName:"Divider__DividerStyle",componentId:"sc-1m7lqco-1"})(["height:1px;"," "," ",""],(function(e){return!(e.light||e.medium)&&"\n    background-color: ".concat((e.theme.monotone||u.Z.monotone).grey200,";\n  ")}),(function(e){return e.light&&"\n    background-color: ".concat((e.theme.borders||u.Z.borders).light,";\n  ")}),(function(e){return e.medium&&"\n    background-color: ".concat((e.theme.borders||u.Z.borders).medium,";\n  ")})),g=function(e){var n=e.short,r=(0,i.Z)(e,a);return(0,l.jsx)(f,{short:n,children:(0,l.jsx)(c.Z,p(p({},r),{},{children:(0,l.jsx)(h,p({},r))}))})};g.defaultProps={short:!1},n.Z=g},99473:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return V}});var t=r(77837),i=r(82394),o=r(12757),c=r(38860),u=r.n(c),s=r(12691),l=r.n(s),a=r(82684),d=r(83455),p=r(34376),f=r(60328),h=r(87758),g=r(34744),b=r(87372),m=r(31866),v=r(10919),j=r(88182),x=r(93348),y=r(86673),O=r(17903),P=r(19711),_=r(46313),Z=r(23831),C=r(73942),w=r(49125),k=r(37391),I=_.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-cjaij-0"})(["border-bottom:1px solid ",";padding:","px;"],Z.Z.borders.medium,w.tr),E=_.default.div.withConfig({displayName:"indexstyle__CardsStyle",componentId:"sc-cjaij-1"})([""," height:80px;display:flex;overflow-x:scroll;"],k.w5),S=_.default.div.withConfig({displayName:"indexstyle__VariableCardStyle",componentId:"sc-cjaij-2"})(["background-color:",";border-radius:","px;flex-shrink:0;margin-right:","px;padding:","px;"],Z.Z.background.output,C.n_,w.iI,w.tr),D=r(73899),N=r(58122),T=r(28598);var R=function(e){var n=(e.pipelineSchedule||{}).variables;return(0,T.jsxs)(I,{children:[(0,T.jsx)(y.Z,{mb:2,children:(0,T.jsx)(P.ZP,{bold:!0,large:!0,monospace:!0,muted:!0,children:"Runtime variables"})}),(0,T.jsx)(E,{noScrollbarTrackBackground:!0,children:n&&Object.entries(n).map((function(e){var n=(0,o.Z)(e,2),r=n[0],t=n[1];return(0,T.jsxs)(S,{children:[(0,T.jsx)(P.ZP,{monospace:!0,children:r}),(0,T.jsx)(P.ZP,{color:D.Or,monospace:!0,children:(0,N.FS)(t)})]})}))})]})},M=r(41374),B=r(10503),L=r(59920),H=r(96510),z=r(66653),A=r(5679);function G(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function U(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?G(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function q(e){var n=e.pipeline,r=(0,p.useRouter)(),t=n.uuid,i=M.ZP.pipeline_schedules.pipelines.list(t),c=i.data,u=i.mutate,s=(0,a.useMemo)((function(){return(null===c||void 0===c?void 0:c.pipeline_schedules)||[]}),[c]),_=(0,d.Db)(M.ZP.pipeline_schedules.pipelines.useCreate(t),{onSuccess:function(e){return(0,H.wD)(e,{callback:function(e){var t=e.pipeline_schedule.id;return r.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(t,"/edit"))},onErrorCallback:function(e){var n=e.error,r=n.errors,t=n.message;console.log(r,t)}})}}),Z=(0,o.Z)(_,2),C=Z[0],k=Z[1].isLoading,I=(0,d.Db)((function(e){return M.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:e})}),{onSuccess:function(e){return(0,H.wD)(e,{callback:function(){u()},onErrorCallback:function(e){var n=e.error,r=n.errors,t=n.message;console.log(r,t)}})}}),E=(0,o.Z)(I,2),S=E[0],D=(E[1].isLoading,(0,a.useState)()),N=D[0],G=D[1],q=(0,a.useMemo)((function(){var e=N;return function(n){var r=n.height-(e?150:0);return(0,T.jsxs)(T.Fragment,{children:[e&&(0,T.jsx)(R,{pipelineSchedule:N}),(0,T.jsx)(h.Z,U(U({},n),{},{height:r,noStatus:!0}))]})}}),[N]);return(0,T.jsxs)(j.Z,{breadcrumbs:[{label:function(){return"Triggers"}}],buildSidekick:q,pageName:L.M.TRIGGERS,pipeline:n,subheaderBackgroundImage:"/images/banner-shape-purple-peach.jpg",subheaderButton:(0,T.jsx)(m.ZP,{blackBorder:!0,beforeElement:(0,T.jsx)(B.mm,{size:2.5*w.iI}),inline:!0,loading:k,noHoverUnderline:!0,onClick:function(){return C({pipeline_schedule:{name:(0,A.Y6)()}})},sameColorAsText:!0,uuid:"PipelineDetailPage/add_new_schedule",children:"Create"}),subheaderText:(0,T.jsx)(P.ZP,{bold:!0,large:!0,children:"Set up a new trigger for this pipeline."}),title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat(L.M.TRIGGERS,"_").concat(t),children:[(0,T.jsx)(y.Z,{mt:w.cd,px:w.cd,children:(0,T.jsx)(b.Z,{level:5,children:"Pipeline triggers"})}),(0,T.jsx)(g.Z,{light:!0,mt:w.cd,short:!0}),(0,T.jsx)(O.Z,{columnFlex:[null,null,1,1,3,1,null,null,null],columns:[{label:function(){return""},uuid:"action"},{uuid:"Status"},{uuid:"Type"},{uuid:"Start time"},{uuid:"Name"},{uuid:"Frequency"},{uuid:"Runs"},{uuid:"Logs"},{label:function(){return""},uuid:"edit"}],onClickRow:function(e){return G(s[e])},rows:s.map((function(e){var n,i=e.id,o=e.pipeline_runs_count,c=e.name,u=e.schedule_interval,s=e.start_time,a=e.status;return[(0,T.jsx)(f.Z,{iconOnly:!0,noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(n){(0,z.j)(n),S({id:e.id,status:x.fq.ACTIVE===a?x.fq.INACTIVE:x.fq.ACTIVE})},children:x.fq.ACTIVE===a?(0,T.jsx)(B.dz,{muted:!0,size:2*w.iI}):(0,T.jsx)(B.Py,{size:2*w.iI,success:!0})}),(0,T.jsx)(P.ZP,{default:x.fq.INACTIVE===a,monospace:!0,success:x.fq.ACTIVE===a,children:a}),(0,T.jsx)(P.ZP,{default:!0,monospace:!0,children:null===(n=x.Z4[e.schedule_type])||void 0===n?void 0:n.call(x.Z4)}),(0,T.jsx)(P.ZP,{monospace:!0,default:!0,children:s}),(0,T.jsx)(l(),{as:"/pipelines/".concat(t,"/triggers/").concat(i),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,T.jsx)(v.Z,{bold:!0,onClick:function(e){(0,z.j)(e),r.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(t,"/triggers/").concat(i))},sameColorAsText:!0,children:c})}),(0,T.jsx)(P.ZP,{default:!0,monospace:!0,children:u}),(0,T.jsx)(P.ZP,{default:!0,monospace:!0,children:o}),(0,T.jsx)(f.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return r.push("/pipelines/".concat(t,"/logs?pipeline_schedule_id[]=").concat(i))},children:(0,T.jsx)(B.B4,{default:!0,size:2*w.iI})}),(0,T.jsx)(f.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return r.push("/pipelines/".concat(t,"/triggers/").concat(i,"/edit"))},children:(0,T.jsx)(B.I8,{default:!0,size:2*w.iI})})]})),uuid:"pipeline-triggers"})]})}q.getInitialProps=function(){var e=(0,t.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:r}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var V=q},66653:function(e,n,r){"use strict";function t(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}r.d(n,{j:function(){return t}})},40183:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return r(99473)}])}},function(e){e.O(0,[5339,2083,6776,7875,2874,3903,7578,5981,5584,7758,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);